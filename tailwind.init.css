@import "tailwindcss";

/* --- Base Styles and Variables --- */
@layer base {
    :root {
        --bg-color: #0f172a;
        --text-primary: #ffffff;
        --text-secondary: #94a3b8;
        --spotlight-color: rgba(29, 78, 216, 0.15);
        --nav-indicator: #475569;
        --card-hover: rgba(30, 41, 59, 0.5);
        --tag-bg: rgba(45, 212, 191, 0.1);
        --tag-text: #5eead4;
        --social-hover: #5eead4; 
        
        /* Fixed: Initialization to prevent layout popping */
        --x: 50%;
        --y: 50%;
    }

    [data-theme="dark"] {
        --bg-color: #111111;
        --text-primary: #ffffff;
        --text-secondary: #a1a1aa;
        --spotlight-color: rgba(255, 255, 255, 0.05);
        --nav-indicator: #3f3f46;
        --card-hover: rgba(26, 26, 26, 0.5);
        --tag-bg: rgba(45, 212, 191, 0.1);
        --tag-text: #5eead4;
        --social-hover: #5eead4;
    }

    [data-theme="light"] {
        --bg-color: #ffffff;
        --text-primary: #0f172a;
        --text-secondary: #475569;
        --spotlight-color: rgba(15, 23, 42, 0.05);
        --nav-indicator: #cbd5e1;
        --card-hover: rgba(241, 245, 249, 0.7);
        --tag-bg: rgba(37, 99, 235, 0.15); 
        --tag-text: #1d4ed8; 
        --social-hover: #2563eb;
    }

    body { 
        font-family: 'Inter', sans-serif; 
        background-color: var(--bg-color);
        color: var(--text-secondary);
        transition: background-color 0.3s ease, color 0.3s ease;
        margin: 0;
    }
}

/* --- Components & Animations --- */
@layer components {
    .title-hover {
        transition: color 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        cursor: default;
    }
    .title-hover:hover {
        color: var(--tag-text);
    }

    .group:hover .card-title-highlight {
        color: var(--tag-text) !important;
    }
    .card-title-highlight {
        transition: color 0.3s ease;
    }

    .social-icon {
        display: inline-block; 
        transition: all 0.3s ease;
        color: var(--text-secondary);
        z-index: 50; /* Ensure clickable over spotlight */
        position: relative;
    }
    .social-icon:hover { 
        color: var(--social-hover) !important; 
        transform: translateY(-3px);
    }

    .experience-tag {
        background-color: var(--tag-bg) !important;
        color: var(--tag-text) !important;
        transition: all 0.3s ease;
    }

    .nav-link.active .nav-indicator { 
        width: 3rem; 
        background-color: var(--text-primary); 
    }
    .nav-link.active .nav-text { 
        color: var(--text-primary); 
    }

    /* --- Hamburger Menu Icon Logic --- */
    .menu-toggle {
        display: none; /* Hidden on Desktop */
        z-index: 1001;
        background: none;
        border: none;
        cursor: pointer;
        padding: 10px;
    }

    .hamburger {
        width: 24px;
        height: 2px;
        background-color: var(--text-primary);
        position: relative;
        transition: all 0.3s ease-in-out;
    }

    .hamburger::before, .hamburger::after {
        content: '';
        position: absolute;
        width: 24px;
        height: 2px;
        background-color: var(--text-primary);
        left: 0;
        transition: all 0.3s ease-in-out;
    }

    .hamburger::before { top: -8px; }
    .hamburger::after { top: 8px; }

    /* X Animation for Hamburger */
    .menu-toggle.active .hamburger { background-color: transparent; }
    .menu-toggle.active .hamburger::before { transform: rotate(45deg) translate(5px, 6px); }
    .menu-toggle.active .hamburger::after { transform: rotate(-45deg) translate(5px, -6px); }

    /* --- Fullscreen Mobile Menu --- */
    .mobile-menu {
        position: fixed;
        top: 0;
        right: -100%;
        width: 100%;
        height: 100vh;
        background-color: var(--bg-color);
        z-index: 1000;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: 2rem;
        transition: right 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        backdrop-filter: blur(10px);
    }

    .mobile-menu.open {
        right: 0;
    }

    .mobile-nav-link { 
        color: var(--text-secondary); 
        font-size: 1.5rem;
        font-weight: 500;
        transition: color 0.3s ease;
    }
    
    .mobile-nav-link.active { 
        color: var(--text-primary) !important; 
    }

    .theme-btn {
        color: var(--text-secondary);
        transition: color 0.3s ease;
        display: flex;
        align-items: center;
        gap: 8px;
        z-index: 50;
        position: relative;
    }

    .theme-btn:hover {
        color: var(--text-primary);
    }

    /* --- General Links & Icons --- */
    .view-all-link {
        display: inline-flex;
        align-items: center;
        font-weight: 600;
        color: var(--text-primary);
        transition: color 0.3s ease;
        position: relative;
        z-index: 50;
    }
    .view-all-link:hover {
        color: var(--tag-text);
    }
    .view-all-link svg {
        transition: transform 0.3s ease;
    }
    .view-all-link:hover svg {
        transform: translateX(4px);
    }
    .view-all-link.resume-link:hover svg {
        transform: translate(4px, -4px);
    }
    .resume-link:hover {
        color: var(--tag-text) !important;
    }

    /* --- Responsive Display Logic --- */
    @media (max-width: 1024px) {
        .menu-toggle {
            display: block;
            position: fixed;
            top: 24px;
            right: 24px;
        }
    }
}

/* --- Utility Classes --- */
@layer utilities {
    .spotlight {
        background: radial-gradient(600px at var(--x) var(--y), var(--spotlight-color), transparent 80%);
        pointer-events: none;
        position: fixed;
        inset: 0;
        z-index: 1; /* Lower z-index so links are clickable */
    }
}